<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- <head>内にフォント読み込み -->
    <link
      href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap"
      rel="stylesheet"
    />

    <title>イントロクイズ</title>
    <!-- <link rel="stylesheet" href="css/reset.css" /> -->
    <link rel="stylesheet" href="css/style.css" />
  </head>
  <body>
    <div id="homeMenu">
      <h1>イントロクイズ</h1>
      <button id="startQuizBtn">クイズを始める</button>
      <button id="showRankingBtn">ランキングを見る</button>
    </div>

    <div id="quizContainer" style="display: none">
      <!-- ここにクイズ画面（今までの要素）を配置 -->
      <button id="backToHomeFromQuiz">ホームに戻る</button>
      <!-- 既存のクイズ用要素をここに移動 -->
      <h2 id="questionNumber"></h2>
      <div id="countdown"></div>
      <audio src="" id="introAudio"></audio>
      <div id="quizArea"></div>
      <div id="message"></div>
      <button id="restartButton" style="display: none">もう一度遊ぶ</button>
      <button id="showRankingAfterQuizBtn" style="display: none">
        ランキングを見る
      </button>
    </div>

    <div id="rankingContainer" style="display: none">
      <h2>ランキング</h2>
      <div id="rankingList"></div>
      <button id="backToHomeFromRanking">ホームに戻る</button>
    </div>

    <!-- jQuery読み込み -->
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <!-- ローカル用音源データ -->
    <!-- <script src="js/quizData_prod.js"></script> -->
    <!-- GitHub用音源データ -->
    <script src="js/quizData_sample.js"></script>

    <!-- Firebase -->
    <script type="module">
      // Import the functions you need from the SDKs you need
      import { initializeApp } from "https://www.gstatic.com/firebasejs/11.9.1/firebase-app.js";
      import {
        getFirestore,
        collection,
        addDoc,
        getDocs,
        serverTimestamp,
        onSnapshot,
        query,
        orderBy,
        limit,
      } from "https://www.gstatic.com/firebasejs/11.9.1/firebase-firestore.js";
      import firebaseConfig from "./js/firebaseConfig.js";
      // Initialize Firebase
      const app = initializeApp(firebaseConfig);
      const db = getFirestore(app);

      // グローバルに使えるようにwindowオブジェクトに設定
      window.db = db;
      window.firestoreFns = {
        collection,
        addDoc,
        getDocs,
        serverTimestamp,
        onSnapshot,
        query,
        orderBy,
        limit,
      };
    </script>
    <script type="module" src="js/main.js"></script>
  </body>
</html>
