<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- <head>内にフォント読み込み -->
    <link
      href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap"
      rel="stylesheet"
    />

    <title>イントロクイズ</title>
    <link rel="stylesheet" href="css/reset.css" />
    <link rel="stylesheet" href="css/style.css" />
  </head>
  <body>
    <h1>イントロクイズ</h1>

    <!-- スタートボタン -->
    <button id="startButton">クイズを始める</button>

    <!-- 第何問目 -->
    <div id="questionNumber"></div>

    <!-- カウントダウン表示 -->
    <div id="countdown"></div>

    <!-- 音声再生用 -->
    <audio src="" id="introAudio"></audio>

    <!-- 問題と選択肢 -->
    <div id="quizArea"></div>

    <!-- メッセージ（結果） -->
    <div id="message"></div>

    <!-- もう一度遊ぶボタン -->
    <button id="restartButton" style="display: none">もう一度遊ぶ</button>

    <!-- jQuery読み込み -->
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <!-- ローカル用音源データ -->
    <script src="js/quizData_prod.js"></script>
    <!-- GitHub用音源データ -->
    <!-- <script src="js/quizData_sample.js"></script> -->

    <!-- Firebase -->
    <script type="module">
      // Import the functions you need from the SDKs you need
      import { initializeApp } from "https://www.gstatic.com/firebasejs/11.9.1/firebase-app.js";
      import {
        getFirestore,
        collection,
        addDoc,
        getDocs,
        serverTimestamp,
        onSnapshot,
        query,
        orderBy,
        limit,
      } from "https://www.gstatic.com/firebasejs/11.9.1/firebase-firestore.js";
      import firebaseConfig from "./js/firebaseConfig.js";
      // Initialize Firebase
      const app = initializeApp(firebaseConfig);
      const db = getFirestore(app);

      // グローバルに使えるようにwindowオブジェクトに設定
      window.db = db;
      window.firestoreFns = {
        collection,
        addDoc,
        getDocs,
        serverTimestamp,
        onSnapshot,
        query,
        orderBy,
        limit,
      };
    </script>
    <script type="module" src="js/main.js"></script>
  </body>
</html>
